---
# multilingual page pair id, this must pair with translations of this page. (This name must be unique)
# lng_pair: id_autogeneratedsamplecontent_1
title: MariaDB - ERROR 1396 (HY000) 에러

# post specific
# if not specified, .name will be used from _data/owner.yml
#author: "Dante"
# multiple category is not supported
category: auto generated
# multiple tag entries are possible`
tags: [Database, DB]
# thumbnail image for post
img: ":crash.jpg"
# disable comments on this page
comments_disable: true

# publish date
date: 2022-08-08 23:55:00 +0900

# seo
# if not specified, date will be used.
#meta_modify_date: 2022-08-08 23:55:00 +0900
# check the meta_common_description in _data/lang/[language].yml
#meta_description: ""

# optional
# if you enabled image_viewer_posts you don't need to enable this. This is only if image_viewer_posts = false
#image_viewer_on: true
# if you enabled image_lazy_loader_posts you don't need to enable this. This is only if image_lazy_loader_posts = false
#image_lazy_loader_on: true
# exclude from on site search
#on_site_search_exclude: true
# exclude from search engines
#search_engine_exclude: true
# to disable this page, simply set published: false or delete this file
#published: false
---
{%- comment -%} Please delete below and place your page content here {%- endcomment -%}

{%- include util/auto-content-generator.liquid -%}

<!-- outline-start -->
# MariaDB ERROR 1396 (HY000) 에러

ERROR 1396 (HY000) : ****Operation CREATE USER failed for 'userID'@'localhost'****

똑같은 이름으로 계정을 만든적이 있다.

```java
 create user 'USERID'@'%' identified by 'cos1234';
```

> @ 뒤에 ‘%’는 사용자 계정이 모든 호스트 위치에서 연결할 수 있도록 하는 와일드 카드이다.
>

DELETE로 계정을 삭제했다.

```
delete from user where user = 'USERID';
```

### **DELETE와 DROP의 차이**

**DELETE(DML)**

- 데이터는 지워지지않지만 테이블 용량은 줄어 들지 않는다.
- 원하는 데이터만 지울 수 있다.
- 삭제 후 잘못 삭제한 것을 되돌릴 수 있다. (Commit 이전에 Rollback 가능)

![Untitled](https://user-images.githubusercontent.com/56623911/183904633-1aa7d02e-a3a9-43c1-8055-b996304acfa6.png)

**DROP**

- 데이터  전체를 삭제, 공간, 객체를 삭제한다.
- 삭제 후 절대 되돌릴 수 없다.

![Untitled 1](https://user-images.githubusercontent.com/56623911/183904626-2b066386-e4e3-472e-9e8e-2370c102c7b6.png)

번외

**TRUNCATE**

- 용량이 줄어든다.
- 인덱스 등 모두 삭제
- 테이블은 삭제하지 않고, 데이터만 삭제한다.
- 삭제 후 되돌릴 수 없다.

![Untitled 2](https://user-images.githubusercontent.com/56623911/183904629-5f97e0af-210e-4fa7-b7b3-9b97091891ec.png)

처음에 이것때문에 계정을 삭제 했을 때 데이터가 남아있는건가 ?? 그래서 ERROR 1396가 뜨는건가 ? 생각했다.

찾아 보다가 이런 문구를 찾았다.

> FLUSH PRIVILEGES;
>

Mysql, mariadb 같은 경우 명령어를 쓰고 FLUSH PRIVILEGES;를 써야한다고 한다.

특히나 **grant 테이블을 reload 함으로 변경사항을 바로 적용해주는 명령어라고 한다. 이것을 DROP을 하고 이것을 해주고 하니깐 에러가 안뜬다.**

해결완료 … 눈물 왈칵…

![giphy](https://user-images.githubusercontent.com/56623911/183904606-863cc8d0-6095-47d2-b4cb-703626139c7c.gif)

<!-- outline-end -->
