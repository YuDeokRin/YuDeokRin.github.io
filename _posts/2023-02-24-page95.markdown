---
# multilingual page pair id, this must pair with translations of this page. (This name must be unique)
# lng_pair: id_autogeneratedsamplecontent_1
title: item58. ì „í†µì ì¸ forë¬¸ë³´ë‹¤ëŠ” for-eachë¬¸ì„ ì‚¬ìš©í•˜ë¼.

# post specific
# if not specified, .name will be used from _data/owner.yml
#author: "Dante"
# multiple category is not supported
category: auto generated
# multiple tag entries are possible
tags: [Effective_Java, Java]
# thumbnail image for post
img: ":Eff3.jpg"
# disable comments on this page
comments_disable: true

# publish date
date: 2023-02-24 15:50:00 +0900

# seo
# if not specified, date will be used.
#meta_modify_date: 2023-02-24 15:50:00 +0900
# check the meta_common_description in _data/lang/[language].yml
#meta_description: ""

# optional
# if you enabled image_viewer_posts you don't need to enable this. This is only if image_viewer_posts = false
#image_viewer_on: true
# if you enabled image_lazy_loader_posts you don't need to enable this. This is only if image_lazy_loader_posts = false
#image_lazy_loader_on: true
# exclude from on site search
#on_site_search_exclude: true
# exclude from search engines
#search_engine_exclude: true
# to disable this page, simply set published: false or delete this file
#published: false
---
{%- comment -%} Please delete below and place your page content here {%- endcomment -%}

{%- include util/auto-content-generator.liquid -%}

<!-- outline-start -->

# item58. ì „í†µì ì¸ forë¬¸ë³´ë‹¤ëŠ” for-eachë¬¸ì„ ì‚¬ìš©í•˜ë¼.

## âœ…Â í•µì‹¬ ì •ë¦¬

- ì „í†µì ì¸ forë¬¸ -  ì¸ë±ìŠ¤ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°ì²´ì˜ ê° ìš”ì†Œì— ì ‘ê·¼í•œë‹¤. í•˜ì§€ë§Œ ì¸ë±ìŠ¤ ë³€ìˆ˜ëŠ” ì½”ë“œë¥¼ ì¥í™©í•˜ê²Œ ë§Œë“¤ê¸° ë•Œë¬¸ì—, ì½ê¸° ì–´ë µê³  ë²„ê·¸ê°€ ë°œìƒí•˜ê¸° ì‰¬ìš¸ ìˆ˜ ìˆë‹¤.
- for-eachë¬¸ - ì¸ë±ìŠ¤ ë³€ìˆ˜ ì—†ì´ ë°˜ë³µ ê°€ëŠ¥í•œ ê°ì²´ì˜ ê° ìš”ì†Œì— ìˆœì°¨ì ìœ¼ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤. ì´ë¥¼ í†µí•´ ì½”ë“œë¥¼ ë” ê°„ê²°í•˜ê³  ì½ê¸° ì‰½ê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.  ë˜í•œ, for-eachë¬¸ì€ ì»´íŒŒì¼ëŸ¬ê°€ ì»´íŒŒì¼ íƒ€ì„ì— ìš”ì†Œì˜ íƒ€ì…ì„ ê²€ì‚¬í•˜ê¸° ë•Œë¬¸ì— íƒ€ì… ì•ˆì •ì„±(type safety)ì„ ë³´ì¥í•´ì¤ë‹ˆë‹¤.

---

## âš“ï¸ì„œë¡ 

ì´ ì•„ì´í…œì¥ì—ì„œëŠ” ì „í†µì ì¸ forë¬¸ì„ ì‚¬ìš©í•´ë³´ê³  ë¬¸ì œì ì„ íŒŒì•…í•˜ê³ , ê·¸ ë¬¸ì œì ì„ í•´ê²°í•˜ëŠ” for-eachë¬¸ì„ ë°°ìš¸ ê²ƒì´ë‹¤.

---

## 1ï¸âƒ£ì „í†µì ì¸ for ë¬¸ìœ¼ë¡œ ì»¬ë ‰ì…˜ì„ ìˆœíšŒí•˜ëŠ” ì½”ë“œ.

### â¡ï¸ì»¬ë ‰ì…˜ ìˆœíšŒí•˜ê¸° - for loop

```java
for(iterator<Element> i = c.iterator(); i.hasNext(); ){
    Element e = i.next();
    //do something
}
```

## â¡ï¸ë°°ì—´ ìˆœíšŒí•˜ê¸°

```java
String[] str = new String[]{"a","b","c"};
for(int i = 0; i < str.length; i++){
   String element = arr[i];
   //do something
}
```

### â¡ï¸ì»¬ë ‰ì…˜ ìˆœíšŒí•˜ê¸° - while

```java
Iterator<Element> i  = c.iterator();
while(iterator.hasNext()){
    Element e = i.next();
    //do something
}
```

for loopì™€ ë°°ì—´ ìˆœíšŒí•˜ê¸°ëŠ” ë°˜ë³µìì™€ ì¸ë±ìŠ¤ ë³€ìˆ˜ ëª¨ë‘ ì½”ë“œë¥¼ ì§€ì €ë¶„í•˜ê²Œ í•œë‹¤. ë˜í•œ ì´ë ‡ê²Œ ì“´ë‹¤ë©´ ìš”ì†Œ ì¢…ë¥˜ê°€ ëŠ˜ì–´ë‚˜ë©´ ì˜¤ë¥˜ê°€ ìƒê¸¸ ê°€ëŠ¥ì„±ì´ ë†’ì•„ì§„ë‹¤.

í˜¹ì‹œë¼ë„ ì˜ëª»ëœ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í–ˆì„ ë•Œ ì»´íŒŒì¼ëŸ¬ê°€ ì¡ì•„ì¤€ë‹¤ëŠ” ë³´ì¥ë„ ì—†ë‹¤.

ì»¬ë ‰ì…˜ì´ëƒ ë°°ì—´ì´ëƒì— ë”°ë¼ ì½”ë“œ í˜•íƒœê°€ ìƒë‹¹íˆ ë‹¬ë¼ì§€ë¯€ë¡œ ì£¼ì˜í•´ì•¼í•œë‹¤.

**ìš°ë¦¬ì—ê²Œ í•„ìš”í•œ ê²ƒì€ ì›ì†Œë“¤ë¿ì´ë‹¤.**

**í•´ê²°ì±…ì€ `for-eachë¬¸`ì„ ì‚¬ìš©í•˜ë©´ ìœ„ì˜ ì£¼ì˜ì‚¬í•­ì„ í”¼í•˜ë©´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.**

---

## 2ï¸âƒ£for-eachë¥¼ ì•Œì•„ë³´ì.

### for-eachë¥¼ ì‚¬ìš©í•˜ë©´

- ë°˜ë³µìì™€ ì¸ë±ìŠ¤ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ëœë‹¤.
- ì½”ë“œê°€ ê¹”ë”í•´ì§„ë‹¤.
- ì˜¤ë¥˜ê°€ ìƒê¸¸ ê°€ëŠ¥ì„±ì´ ì ì–´ì§„ë‹¤.
- í•˜ë‚˜ì˜ ê´€ìš©êµ¬ë¡œ ì»¬ë ‰ì…˜ê³¼ ë°°ì—´ì„ ëª¨ë‘ ì²˜ë¦¬í•  ìˆ˜ ìˆì–´ì„œ ì–´ë–¤ ì»¨í…Œì´ë„ˆë¥¼ ë‹¤ë£¨ë˜ì§€ ì‹ ê²½ì“°ì§€ ì•Šì•„ë„ëœë‹¤.

### â¡ï¸ì»¬ë ‰ì…˜ê³¼ ë°°ì—´ì„ ìˆœíšŒí•˜ëŠ” ì˜¬ë°”ë¥¸ ê´€ìš©êµ¬

```java
for(Element e : elements){
    ... // do something
}
```

- ìœ„ì—ì„œ ì½œë¡ (:)ì€ â€œì•ˆì˜(in)â€ë¼ê³  ì½ìœ¼ë©´ ëœë‹¤.
- ë°˜ë³µë¬¸ì€ â€œelement ì•ˆì˜ ê° ì›ì†Œ eì— ëŒ€í•´â€ ë¼ê³  ì½ëŠ”ë‹¤.
- ë°˜ë³µ ëŒ€ìƒì´ ì»¬ë ‰ì…˜ì´ë“  ë°°ì—´ì´ë“ , for-each ë¬¸ìœ¼ë¡œ ì‚¬ìš©í•´ë„ ì†ë„ëŠ” ê·¸ëŒ€ë¡œì´ë‹¤.
- ì»¬ë ‰ì…˜ì„ ì¤‘ì²©í•´ ìˆœíšŒí•´ì•¼ í•œë‹¤ë©´ for-each ë¬¸ì˜ ì´ì ì´ ë”ìš± ì»¤ì§„ë‹¤.

---

## ì»¬ë ‰ì…˜ ì¤‘ì²© ì‚¬ìš©

### ğŸ”¡ì¹´ë“œ ì˜ˆ)

```java
public class Card {
    private final Suit suit;
    private final Rank rank;

    enum Suit { CLUB, DIAMOND, HEART, SPADE }
    enum Rank { ACE, DEUCE, THREE, FOUR, FIVE, SIX, SEVEN, EIGHT,
        NINE, TEN, JACK, QUEEN, KING }

    static Collection<Suit> suits = Arrays.asList(Suit.values());
    static Collection<Rank> ranks = Arrays.asList(Rank.values());

    Card(Suit suit, Rank rank ) {
        this.suit = suit;
        this.rank = rank;
    }

    public static void main(String[] args) {
        List<Card> deck = new ArrayList<>();

        for (Iterator<Suit> i = suits.iterator(); i.hasNext(); )
            for (Iterator<Rank> j = ranks.iterator(); j.hasNext(); )
                deck.add(new Card(i.next(), j.next()));
    }
}
```

- ìœ„ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ `NoSuchElementException`ì„ ë˜ì§„ë‹¤.

<img width="967" alt="Untitled" src="https://user-images.githubusercontent.com/56623911/221110689-37a6ae9c-9853-45f9-a909-8438d57a7dcd.png">


### â¡ï¸ì™œ NoSuchElementExceptionì„ ë˜ì§ˆê¹Œ?

ë°”ê¹¥ ì»¬ë ‰ì…˜(suits)ì˜ ë°˜ë³µìì—ì„œ nextë©”ì„œë“œê°€ ë„ˆë¬´ ë§ì´ ë¶ˆë¦°ë‹¤. â†’ ë§ˆì§€ë§‰ ì¤„ì˜ i.next()ë¥¼ ì£¼ëª©

next()ëŠ” ìˆ«ì(suit) í•˜ë‚˜ë‹¹ í•œ ë²ˆì”©ë§Œ ë¶ˆëŸ¬ì•¼í•˜ëŠ”ë°, ì•ˆìª½ ë°˜ë³µë¬¸ì—ì„œ í˜¸ì¶œë˜ê¸° ë•Œë¬¸ì— ì¹´ë“œ(Rank) í•˜ë‚˜ë‹¹ í•œë²ˆ ì”© ë¶ˆë¦¬ê³  ìˆë‹¤.

ë”°ë¼ì„œ ìˆ«ìê°€ ë°”ë‹¥ë‚˜ë©´ ë°˜ë³µë¬¸ì—ì„œ `NoSuchElementException` ì„ ë˜ì§„ë‹¤.

### â¡ï¸ìœ„ ì½”ë“œë¥¼ for-eachë¡œ ë§Œë“¤ë©´

```java
for (Suit suit : suits) {
    for (Rank rank : ranks) {
        deck.add(new Card(suit, rank));
    }
}
```

ì½”ë“œê°€ ì •ë§ ê°„ê²°í•´ì§€ê³  ê°€ë…ì„±ì´ ì¢‹ì•„ì§„ë‹¤. ë¨¸ë¦¬ê°€ ëœ ì•„í”„ë‹¤.

- ê²°ê³¼ë¥¼ ì°ì–´ë³´ë©´ .

```java
ACE-----CLUB
DEUCE-----CLUB
THREE-----CLUB
FOUR-----CLUB
FIVE-----CLUB
SIX-----CLUB
SEVEN-----CLUB
EIGHT-----CLUB
NINE-----CLUB
TEN-----CLUB
JACK-----CLUB
QUEEN-----CLUB
KING-----CLUB

ACE-----DIAMOND
DEUCE-----DIAMOND
THREE-----DIAMOND
FOUR-----DIAMOND
FIVE-----DIAMOND
SIX-----DIAMOND
SEVEN-----DIAMOND
EIGHT-----DIAMOND
NINE-----DIAMOND
TEN-----DIAMOND
JACK-----DIAMOND
QUEEN-----DIAMOND
KING-----DIAMOND

ACE-----HEART
DEUCE-----HEART
THREE-----HEART
FOUR-----HEART
FIVE-----HEART
SIX-----HEART
SEVEN-----HEART
EIGHT-----HEART
NINE-----HEART
TEN-----HEART
JACK-----HEART
QUEEN-----HEART
KING-----HEART

ACE-----SPADE
DEUCE-----SPADE
THREE-----SPADE
FOUR-----SPADE
FIVE-----SPADE
SIX-----SPADE
SEVEN-----SPADE
EIGHT-----SPADE
NINE-----SPADE
TEN-----SPADE
JACK-----SPADE
QUEEN-----SPADE
KING-----SPADE
```

---

### ğŸ”¡ì£¼ì‚¬ìœ„ ì˜ˆì‹œ)

- ì£¼ì‚¬ìœ„ë¥¼ ë‘ ë²ˆ êµ´ë ¸ì„ ë•Œ ë‚˜ì˜¬ ìˆ˜ ìˆëŠ” ëª¨ë“  ê²½ìš°ì˜ ìˆ˜ë¥¼ ì¶œë ¥í•˜ëŠ” ì½”ë“œ

```java
public class DiceRolls {
    enum Face { ONE, TWO, THREE, FOUR, FIVE, SIX }

    public static void main(String[] args) {
        // ê°™ì€ ë²„ê·¸, ë‹¤ë¥¸ ì¦ìƒ!
        Collection<Face> faces = EnumSet.allOf(Face.class);

        for (Iterator<Face> i = faces.iterator(); i.hasNext(); )
            for (Iterator<Face> j = faces.iterator(); j.hasNext(); )
                System.out.println(i.next() + " " + j.next());
    }
}
```

- ê²°ê³¼

```java
ONE ONE
TWO TWO
THREE THREE
FOUR FOUR
FIVE FIVE
SIX SIX
***************************
```

ìœ„ ì½”ë“œëŠ” ì˜ˆì™¸ëŠ” ë°˜í™˜í•˜ì§€ ì•ŠëŠ”ë‹¤.

í•˜ì§€ë§Œ

ê°€ëŠ¥í•œ ì¡°í•©ì„ ë‹¨ ì—¬ì„¯ ìŒë§Œ ì¶œë ¥í•˜ê³  ëë‚˜ë²„ë¦°ë‹¤.  ì›ë˜ëŠ” 36ê°œ ì¡°í•©ì´ ë‚˜ì™€ì•¼ í•œë‹¤.

ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ë ¤ë©´ ë°”ê¹¥ ë°˜ë³µë¬¸ì— ë°”ê¹¥ ì›ì†Œë¥¼ ì €ì¥í•˜ëŠ” ë³€ìˆ˜ë¥¼ í•˜ë‚˜ ì¶”ê°€í•´ì•¼ í•œë‹¤.

### ğŸ”¡ë¬¸ì œ í•´ê²° ì½”ë“œ

```java
public class DiceRolls {
    enum Face { ONE, TWO, THREE, FOUR, FIVE, SIX }

    public static void main(String[] args) {
        Collection<Face> faces = EnumSet.allOf(Face.class);

        for (Face f1 : faces){
            for (Face f2 : faces){
                System.out.println(f1 + " " + f2);
            }
        }
    }
}
```

- ê²°ê³¼

```java
ONE ONE
ONE TWO
ONE THREE
ONE FOUR
ONE FIVE
ONE SIX

TWO ONE
TWO TWO
TWO THREE
TWO FOUR
TWO FIVE
TWO SIX

THREE ONE
THREE TWO
THREE THREE
THREE FOUR
THREE FIVE
THREE SIX

FOUR ONE
FOUR TWO
FOUR THREE
FOUR FOUR
FOUR FIVE
FOUR SIX

FIVE ONE
FIVE TWO
FIVE THREE
FIVE FOUR
FIVE FIVE
FIVE SIX

SIX ONE
SIX TWO
SIX THREE
SIX FOUR
SIX FIVE
SIX SIX
```

for-eachëŠ” ì½”ë“œë¥¼ ì™„ì „íˆ ê¹”ë”íˆ ë§Œë“¤ë©´ì„œ ê°„ë‹¨íˆ í•´ê²°í–ˆë‹¤.

í•˜ì§€ë§Œ for-eachë¬¸ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” ìƒí™©ì´ ìˆë‹¤.

---

## â¡ï¸for-eachë¬¸ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” ìƒí™©

### 1ï¸âƒ£Â íŒŒê´´ì ì¸ í•„í„°ë§(destructive filtering)

- ì»¬ë ‰ì…˜ì„ ìˆœíšŒí•˜ë©´ì„œ ì„ íƒëœ ì›ì†Œë¥¼ ì œê±°í•´ì•¼ í•œë‹¤ë©´ ë°˜ë³µìì˜ remove ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•´ì•¼ í•œë‹¤. ìë°” 8ë¶€í„°ëŠ” Collecionì˜ removeIf ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•´  ì»¬ë ‰ì…˜ì„ ëª…ì‹œì ìœ¼ë¡œ ìˆœíšŒí•˜ëŠ” ì¼ì„ í”¼í•  ìˆ˜ ìˆë‹¤.

### 2ï¸âƒ£Â ë³€í˜•(transforming)

- ë¦¬ìŠ¤íŠ¸ë‚˜ ë°°ì—´ì„ ìˆœíšŒí•˜ë©´ì„œ ê·¸ ì›ì†Œì˜ ê°’ ì¼ë¶€ í˜¹ì€ ì „ì²´ë¥¼ êµì²´í•´ì•¼ í•œë‹¤ë©´ ë¦¬ìŠ¤íŠ¸ì˜ ë°˜ë³µìë‚˜ ë°°ì—´ì˜ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•´ì•¼í•œë‹¤.

### 3ï¸âƒ£ë³‘ë ¬ ë°˜ë³µ(parallel iteration)

- ì—¬ëŸ¬ ì»¬ë ‰ì…˜ì„ ë³‘ë ¬ë¡œ ìˆœíšŒí•´ì•¼ í•œë‹¤ë©´ ê°ê°ì˜ ë°˜ë³µìì™€ ì¸ë±ìŠ¤ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•´ ì—„ê²©í•˜ê³  ëª…ì‹œì ìœ¼ë¡œ ì œì–´í•´ì•¼ í•œë‹¤.

ì„¸ ê°€ì§€ ìƒí™© ì¤‘ í•˜ë‚˜ì— ì†í•  ë•ŒëŠ” ì¼ë°˜ì ìœ¼ë¡œ forë¬¸ì„ ì‚¬ìš©í•œë‹¤.
<!-- outline-end -->
